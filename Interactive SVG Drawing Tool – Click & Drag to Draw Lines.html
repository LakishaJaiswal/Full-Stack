<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SVG Drawing Tool</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f0f0f0;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    h2 {
      margin-bottom: 10px;
    }
    svg {
      border: 2px solid #444;
      background: white;
      cursor: crosshair;
    }
    .instructions {
      font-size: 0.9rem;
      margin-bottom: 15px;
      color: #555;
    }
  </style>
</head>
<body>

<h2>Interactive SVG Drawing Tool</h2>
<p class="instructions">Click and drag to draw lines</p>

<svg id="drawing-area" width="800" height="500"></svg>

<script>
  const svg = document.getElementById("drawing-area");

  let isDrawing = false;
  let currentLine = null;

  svg.addEventListener("mousedown", (e) => {
    isDrawing = true;
    const { x, y } = getMousePosition(e);
    currentLine = document.createElementNS("http://www.w3.org/2000/svg", "line");
    currentLine.setAttribute("x1", x);
    currentLine.setAttribute("y1", y);
    currentLine.setAttribute("x2", x);
    currentLine.setAttribute("y2", y);
    currentLine.setAttribute("stroke", "black");
    currentLine.setAttribute("stroke-width", "2");
    svg.appendChild(currentLine);
  });

  svg.addEventListener("mousemove", (e) => {
    if (!isDrawing || !currentLine) return;
    const { x, y } = getMousePosition(e);
    currentLine.setAttribute("x2", x);
    currentLine.setAttribute("y2", y);
  });

  svg.addEventListener("mouseup", () => {
    isDrawing = false;
    currentLine = null;
  });

  svg.addEventListener("mouseleave", () => {
    isDrawing = false;
    currentLine = null;
  });

  function getMousePosition(evt) {
    const CTM = svg.getScreenCTM();
    return {
      x: (evt.clientX - CTM.e) / CTM.a,
      y: (evt.clientY - CTM.f) / CTM.d
    };
  }
</script>

</body>
</html>
